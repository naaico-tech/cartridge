# dbt Model Documentation

Generated by Cartridge AI

## Generation Summary

- **Total Models**: 26
- **AI Provider**: gemini
- **Model Used**: gemini-2.5-flash

## Model Breakdown

### Staging Models (13)

#### stg_cart_items

**Description**: Staging model for ecommerce.cart_items. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `cart_item_id`: Cart Item Id
- `user_id`: User Id
- `product_id`: Product Id
- `variant_id`: Variant Id
- `quantity`: Quantity
- `added_at`: Added At
- `updated_at`: Updated At

**Tests**: 3 configured

---

#### stg_categories

**Description**: Staging model for ecommerce.categories. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `category_id`: Category Id
- `name`: Name
- `description`: Description
- `parent_category_id`: Parent Category Id
- `image_url`: Image Url
- `is_active`: Is Active
- `created_at`: Created At
- `updated_at`: Updated At

**Tests**: 3 configured

---

#### stg_coupon_usage

**Description**: Staging model for ecommerce.coupon_usage. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `usage_id`: Usage Id
- `coupon_id`: Coupon Id
- `user_id`: User Id
- `order_id`: Order Id
- `discount_amount`: Discount Amount
- `used_at`: Used At

**Tests**: 3 configured

---

#### stg_coupons

**Description**: Staging model for ecommerce.coupons. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `coupon_id`: Coupon Id
- `code`: Code
- `description`: Description
- `discount_type`: Discount Type
- `discount_value`: Discount Value
- `minimum_order_amount`: Minimum Order Amount
- `maximum_discount_amount`: Maximum Discount Amount
- `usage_limit`: Usage Limit
- `used_count`: Used Count
- `valid_from`: Valid From
- `valid_until`: Valid Until
- `is_active`: Is Active
- `created_at`: Created At

**Tests**: 5 configured

---

#### stg_order_items

**Description**: Staging model for ecommerce.order_items. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `order_item_id`: Order Item Id
- `order_id`: Order Id
- `product_id`: Product Id
- `variant_id`: Variant Id
- `quantity`: Quantity
- `unit_price`: Unit Price
- `total_price`: Total Price
- `created_at`: Created At

**Tests**: 5 configured

---

#### stg_orders

**Description**: Staging model for ecommerce.orders. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `order_id`: Order Id
- `user_id`: User Id
- `order_number`: Order Number
- `status`: Status
- `total_amount`: Total Amount
- `tax_amount`: Tax Amount
- `shipping_amount`: Shipping Amount
- `discount_amount`: Discount Amount
- `shipping_address_id`: Shipping Address Id
- `billing_address_id`: Billing Address Id
- `payment_method`: Payment Method
- `payment_status`: Payment Status
- `notes`: Notes
- `created_at`: Created At
- `updated_at`: Updated At

**Tests**: 4 configured

---

#### stg_product_images

**Description**: Staging model for ecommerce.product_images. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `image_id`: Image Id
- `product_id`: Product Id
- `image_url`: Image Url
- `alt_text`: Alt Text
- `is_primary`: Is Primary
- `sort_order`: Sort Order
- `created_at`: Created At

**Tests**: 3 configured

---

#### stg_product_reviews

**Description**: Staging model for ecommerce.product_reviews. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `review_id`: Review Id
- `product_id`: Product Id
- `user_id`: User Id
- `rating`: Rating
- `title`: Title
- `review_text`: Review Text
- `is_verified_purchase`: Is Verified Purchase
- `is_approved`: Is Approved
- `created_at`: Created At
- `updated_at`: Updated At

**Tests**: 3 configured

---

#### stg_product_variants

**Description**: Staging model for ecommerce.product_variants. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `variant_id`: Variant Id
- `product_id`: Product Id
- `variant_name`: Variant Name
- `variant_type`: Variant Type
- `price_adjustment`: Price Adjustment
- `stock_quantity`: Stock Quantity
- `sku`: Sku
- `is_active`: Is Active
- `created_at`: Created At

**Tests**: 4 configured

---

#### stg_products

**Description**: Staging model for ecommerce.products. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `product_id`: Product Id
- `name`: Name
- `description`: Description
- `sku`: Sku
- `category_id`: Category Id
- `price`: Price
- `sale_price`: Sale Price
- `cost_price`: Cost Price
- `weight`: Weight
- `dimensions`: Dimensions
- `stock_quantity`: Stock Quantity
- `min_stock_level`: Min Stock Level
- `is_active`: Is Active
- `is_featured`: Is Featured
- `created_at`: Created At
- `updated_at`: Updated At

**Tests**: 5 configured

---

#### stg_user_addresses

**Description**: Staging model for ecommerce.user_addresses. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `address_id`: Address Id
- `user_id`: User Id
- `address_type`: Address Type
- `street_address`: Street Address
- `city`: City
- `state`: State
- `postal_code`: Postal Code
- `country`: Country
- `is_default`: Is Default
- `created_at`: Created At

**Tests**: 6 configured

---

#### stg_users

**Description**: Staging model for ecommerce.users. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `user_id`: User Id
- `email`: Email
- `password_hash`: Password Hash
- `first_name`: First Name
- `last_name`: Last Name
- `phone`: Phone
- `date_of_birth`: Date Of Birth
- `created_at`: Created At
- `updated_at`: Updated At
- `is_active`: Is Active
- `email_verified`: Email Verified

**Tests**: 6 configured

---

#### stg_wishlist_items

**Description**: Staging model for ecommerce.wishlist_items. Cleans and standardizes raw data.

**Materialization**: view

**Tags**: staging, ecommerce

**Columns**:

- `wishlist_item_id`: Wishlist Item Id
- `user_id`: User Id
- `product_id`: Product Id
- `added_at`: Added At

**Tests**: 2 configured

---

### Marts Models (13)

#### fct_order_items

**Description**: Fact table for order_items with business metrics

**Materialization**: table

**Dependencies**: stg_order_items

**Tags**: marts, fct

---

#### fct_orders

**Description**: Fact table for orders with business metrics

**Materialization**: table

**Dependencies**: stg_orders

**Tags**: marts, fct

---

#### dim_cart_items

**Description**: Dimension table for cart_items with descriptive attributes

**Materialization**: table

**Dependencies**: stg_cart_items

**Tags**: marts, dim

---

#### dim_categories

**Description**: Dimension table for categories with descriptive attributes

**Materialization**: table

**Dependencies**: stg_categories

**Tags**: marts, dim

---

#### dim_coupon_usage

**Description**: Dimension table for coupon_usage with descriptive attributes

**Materialization**: table

**Dependencies**: stg_coupon_usage

**Tags**: marts, dim

---

#### dim_coupons

**Description**: Dimension table for coupons with descriptive attributes

**Materialization**: table

**Dependencies**: stg_coupons

**Tags**: marts, dim

---

#### dim_product_images

**Description**: Dimension table for product_images with descriptive attributes

**Materialization**: table

**Dependencies**: stg_product_images

**Tags**: marts, dim

---

#### dim_product_reviews

**Description**: Dimension table for product_reviews with descriptive attributes

**Materialization**: table

**Dependencies**: stg_product_reviews

**Tags**: marts, dim

---

#### dim_product_variants

**Description**: Dimension table for product_variants with descriptive attributes

**Materialization**: table

**Dependencies**: stg_product_variants

**Tags**: marts, dim

---

#### dim_products

**Description**: Dimension table for products with descriptive attributes

**Materialization**: table

**Dependencies**: stg_products

**Tags**: marts, dim

---

#### dim_user_addresses

**Description**: Dimension table for user_addresses with descriptive attributes

**Materialization**: table

**Dependencies**: stg_user_addresses

**Tags**: marts, dim

---

#### dim_users

**Description**: Dimension table for users with descriptive attributes

**Materialization**: table

**Dependencies**: stg_users

**Tags**: marts, dim

---

#### dim_wishlist_items

**Description**: Dimension table for wishlist_items with descriptive attributes

**Materialization**: table

**Dependencies**: stg_wishlist_items

**Tags**: marts, dim

---

## dbt Best Practices

This project follows dbt best practices:

1. **Layered Architecture**: Models are organized into staging, intermediate, and mart layers
2. **Naming Conventions**: Models use consistent prefixes (stg_, int_, fct_, dim_)
3. **Documentation**: All models include descriptions and column documentation
4. **Testing**: Models include appropriate data quality tests
5. **Modularity**: Complex logic is broken into reusable components

## Maintenance

- Regularly review and update model documentation
- Monitor test results and data quality metrics
- Update models as source schema changes
- Consider performance optimization for large models

## Resources

- [dbt Documentation](https://docs.getdbt.com/)
- [dbt Style Guide](https://github.com/dbt-labs/corp/blob/main/dbt_style_guide.md)
- [dbt Best Practices](https://docs.getdbt.com/guides/best-practices)
